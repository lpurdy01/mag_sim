{
  "version": "0.2",
  "units": "SI",
  "domain": {
    "Lx": 0.22,
    "Ly": 0.22,
    "nx": 65,
    "ny": 65
  },
  "boundary": {
    "type": "neumann"
  },
  "materials": [
    {
      "name": "air",
      "mu_r": 1.0
    },
    {
      "name": "stator_steel",
      "mu_r": 1800.0
    },
    {
      "name": "rotor_steel",
      "mu_r": 1200.0
    }
  ],
  "regions": [
    {
      "type": "uniform",
      "material": "air"
    },
    {
      "type": "polygon",
      "material": "stator_steel",
      "vertices": [
        [
          0.055,
          0.0
        ],
        [
          0.055,
          0.007
        ],
        [
          0.053,
          0.014
        ],
        [
          0.051,
          0.021
        ],
        [
          0.048,
          0.027
        ],
        [
          0.044,
          0.033
        ],
        [
          0.039,
          0.039
        ],
        [
          0.033,
          0.044
        ],
        [
          0.028,
          0.048
        ],
        [
          0.021,
          0.051
        ],
        [
          0.014,
          0.053
        ],
        [
          0.007,
          0.055
        ],
        [
          0.0,
          0.055
        ],
        [
          -0.007,
          0.055
        ],
        [
          -0.014,
          0.053
        ],
        [
          -0.021,
          0.051
        ],
        [
          -0.027,
          0.048
        ],
        [
          -0.033,
          0.044
        ],
        [
          -0.039,
          0.039
        ],
        [
          -0.044,
          0.033
        ],
        [
          -0.048,
          0.027
        ],
        [
          -0.051,
          0.021
        ],
        [
          -0.053,
          0.014
        ],
        [
          -0.055,
          0.007
        ],
        [
          -0.055,
          0.0
        ],
        [
          -0.055,
          -0.007
        ],
        [
          -0.053,
          -0.014
        ],
        [
          -0.051,
          -0.021
        ],
        [
          -0.048,
          -0.027
        ],
        [
          -0.044,
          -0.033
        ],
        [
          -0.039,
          -0.039
        ],
        [
          -0.033,
          -0.044
        ],
        [
          -0.028,
          -0.048
        ],
        [
          -0.021,
          -0.051
        ],
        [
          -0.014,
          -0.053
        ],
        [
          -0.007,
          -0.055
        ],
        [
          0.0,
          -0.055
        ],
        [
          0.007,
          -0.055
        ],
        [
          0.014,
          -0.053
        ],
        [
          0.021,
          -0.051
        ],
        [
          0.028,
          -0.048
        ],
        [
          0.033,
          -0.044
        ],
        [
          0.039,
          -0.039
        ],
        [
          0.044,
          -0.033
        ],
        [
          0.048,
          -0.028
        ],
        [
          0.051,
          -0.021
        ],
        [
          0.053,
          -0.014
        ],
        [
          0.055,
          -0.007
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.012,
          0.018
        ],
        [
          0.016,
          0.023
        ],
        [
          -0.016,
          0.023
        ],
        [
          -0.012,
          0.018
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          -0.012,
          -0.018
        ],
        [
          -0.016,
          -0.023
        ],
        [
          0.016,
          -0.023
        ],
        [
          0.012,
          -0.018
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.02,
          0.0
        ],
        [
          0.02,
          0.003
        ],
        [
          0.019,
          0.007
        ],
        [
          0.017,
          0.01
        ],
        [
          0.015,
          0.013
        ],
        [
          0.013,
          0.015
        ],
        [
          0.01,
          0.017
        ],
        [
          0.007,
          0.019
        ],
        [
          0.003,
          0.02
        ],
        [
          0.0,
          0.02
        ],
        [
          -0.003,
          0.02
        ],
        [
          -0.007,
          0.019
        ],
        [
          -0.01,
          0.017
        ],
        [
          -0.013,
          0.015
        ],
        [
          -0.015,
          0.013
        ],
        [
          -0.017,
          0.01
        ],
        [
          -0.019,
          0.007
        ],
        [
          -0.02,
          0.003
        ],
        [
          -0.02,
          0.0
        ],
        [
          -0.02,
          -0.003
        ],
        [
          -0.019,
          -0.007
        ],
        [
          -0.017,
          -0.01
        ],
        [
          -0.015,
          -0.013
        ],
        [
          -0.013,
          -0.015
        ],
        [
          -0.01,
          -0.017
        ],
        [
          -0.007,
          -0.019
        ],
        [
          -0.003,
          -0.02
        ],
        [
          0.0,
          -0.02
        ],
        [
          0.003,
          -0.02
        ],
        [
          0.007,
          -0.019
        ],
        [
          0.01,
          -0.017
        ],
        [
          0.013,
          -0.015
        ],
        [
          0.015,
          -0.013
        ],
        [
          0.017,
          -0.01
        ],
        [
          0.019,
          -0.007
        ],
        [
          0.02,
          -0.003
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "rotor_steel",
      "vertices": [
        [
          0.015,
          0.0
        ],
        [
          0.014,
          0.004
        ],
        [
          0.013,
          0.007
        ],
        [
          0.011,
          0.011
        ],
        [
          0.008,
          0.013
        ],
        [
          0.004,
          0.014
        ],
        [
          0.0,
          0.015
        ],
        [
          -0.004,
          0.014
        ],
        [
          -0.007,
          0.013
        ],
        [
          -0.011,
          0.011
        ],
        [
          -0.013,
          0.007
        ],
        [
          -0.014,
          0.004
        ],
        [
          -0.015,
          0.0
        ],
        [
          -0.014,
          -0.004
        ],
        [
          -0.013,
          -0.007
        ],
        [
          -0.011,
          -0.011
        ],
        [
          -0.008,
          -0.013
        ],
        [
          -0.004,
          -0.014
        ],
        [
          0.0,
          -0.015
        ],
        [
          0.004,
          -0.014
        ],
        [
          0.008,
          -0.013
        ],
        [
          0.011,
          -0.011
        ],
        [
          0.013,
          -0.008
        ],
        [
          0.014,
          -0.004
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.007,
          -0.006
        ],
        [
          0.011,
          -0.009
        ],
        [
          0.011,
          0.009
        ],
        [
          0.007,
          0.006
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          -0.007,
          0.006
        ],
        [
          -0.011,
          0.009
        ],
        [
          -0.011,
          -0.009
        ],
        [
          -0.007,
          -0.006
        ]
      ]
    }
  ],
  "rotors": [
    {
      "name": "dc_rotor",
      "pivot": [
        0.0,
        0.0
      ],
      "polygons": [
        5
      ],
      "initial_angle_deg": -25.0
    }
  ],
  "sources": [
    {
      "type": "current_region",
      "id": "field_north",
      "label": "Field North",
      "phase": "field",
      "orientation": 1.0,
      "vertices": [
        [
          0.012,
          0.018
        ],
        [
          0.016,
          0.023
        ],
        [
          -0.016,
          0.023
        ],
        [
          -0.012,
          0.018
        ]
      ],
      "I": 0.0,
      "turns": 220.0,
      "fill_fraction": 0.58
    },
    {
      "type": "current_region",
      "id": "field_south",
      "label": "Field South",
      "phase": "field",
      "orientation": -1.0,
      "vertices": [
        [
          -0.012,
          -0.018
        ],
        [
          -0.016,
          -0.023
        ],
        [
          0.016,
          -0.023
        ],
        [
          0.012,
          -0.018
        ]
      ],
      "I": 0.0,
      "turns": 220.0,
      "fill_fraction": 0.58
    },
    {
      "type": "current_region",
      "id": "armature_a",
      "label": "Armature A",
      "phase": "armature",
      "orientation": 1.0,
      "vertices": [
        [
          0.007,
          -0.006
        ],
        [
          0.011,
          -0.009
        ],
        [
          0.011,
          0.009
        ],
        [
          0.007,
          0.006
        ]
      ],
      "I": 0.0,
      "turns": 110.0,
      "fill_fraction": 0.52
    },
    {
      "type": "current_region",
      "id": "armature_b",
      "label": "Armature B",
      "phase": "armature",
      "orientation": -1.0,
      "vertices": [
        [
          -0.007,
          0.006
        ],
        [
          -0.011,
          0.009
        ],
        [
          -0.011,
          -0.009
        ],
        [
          -0.007,
          -0.006
        ]
      ],
      "I": 0.0,
      "turns": 110.0,
      "fill_fraction": 0.52
    }
  ],
  "circuits": [
    {
      "id": "dc_drive",
      "nodes": [
        "gnd",
        "field_pos",
        "arm_pos"
      ],
      "elements": [
        {
          "type": "voltage_source",
          "id": "field_V",
          "nodes": [
            "field_pos",
            "gnd"
          ],
          "value": 18.0
        },
        {
          "type": "resistor",
          "id": "field_R",
          "nodes": [
            "field_pos",
            "gnd"
          ],
          "resistance": 1.6
        },
        {
          "type": "inductor",
          "id": "field_L",
          "nodes": [
            "field_pos",
            "gnd"
          ],
          "inductance": 0.08,
          "initial_current": 0.0
        },
        {
          "type": "voltage_source",
          "id": "arm_V",
          "nodes": [
            "arm_pos",
            "gnd"
          ],
          "value": 12.0
        },
        {
          "type": "resistor",
          "id": "arm_R",
          "nodes": [
            "arm_pos",
            "gnd"
          ],
          "resistance": 0.75
        },
        {
          "type": "inductor",
          "id": "arm_L",
          "nodes": [
            "arm_pos",
            "gnd"
          ],
          "inductance": 0.032,
          "initial_current": 0.0
        },
        {
          "type": "coil_link",
          "id": "field_coil_north",
          "inductor": "field_L",
          "region": "field_north",
          "turns": 220.0
        },
        {
          "type": "coil_link",
          "id": "field_coil_south",
          "inductor": "field_L",
          "region": "field_south",
          "turns": 220.0
        },
        {
          "type": "coil_link",
          "id": "arm_coil_a",
          "inductor": "arm_L",
          "region": "armature_a",
          "turns": 110.0,
          "commutator": {
            "rotor": "dc_rotor",
            "default_orientation": 1.0,
            "segments": [
              {
                "start_deg": -90.0,
                "end_deg": 90.0,
                "orientation": 1.0
              },
              {
                "start_deg": 90.0,
                "end_deg": 270.0,
                "orientation": -1.0
              }
            ]
          }
        },
        {
          "type": "coil_link",
          "id": "arm_coil_b",
          "inductor": "arm_L",
          "region": "armature_b",
          "turns": 110.0,
          "commutator": {
            "rotor": "dc_rotor",
            "default_orientation": 1.0,
            "segments": [
              {
                "start_deg": -90.0,
                "end_deg": 90.0,
                "orientation": 1.0
              },
              {
                "start_deg": 90.0,
                "end_deg": 270.0,
                "orientation": -1.0
              }
            ]
          }
        }
      ]
    }
  ],
  "outputs": [
    {
      "type": "vtk_field_series",
      "id": "dc_motor_series",
      "dir": "outputs",
      "basename": "dc_motor_frame",
      "quantities": [
        "B",
        "H"
      ]
    },
    {
      "type": "polyline_outlines",
      "id": "dc_motor_outlines",
      "path": "outputs/dc_motor_outlines.vtp"
    },
    {
      "type": "probe",
      "id": "dc_torque",
      "probe_type": "torque",
      "method": "stress_tensor",
      "loop": {
        "type": "polygon",
        "vertices": [
          [
            0.022,
            0.0
          ],
          [
            0.022,
            0.003
          ],
          [
            0.021,
            0.007
          ],
          [
            0.02,
            0.01
          ],
          [
            0.018,
            0.013
          ],
          [
            0.016,
            0.016
          ],
          [
            0.013,
            0.018
          ],
          [
            0.01,
            0.02
          ],
          [
            0.007,
            0.021
          ],
          [
            0.003,
            0.022
          ],
          [
            0.0,
            0.022
          ],
          [
            -0.003,
            0.022
          ],
          [
            -0.007,
            0.021
          ],
          [
            -0.01,
            0.02
          ],
          [
            -0.013,
            0.018
          ],
          [
            -0.016,
            0.016
          ],
          [
            -0.018,
            0.013
          ],
          [
            -0.02,
            0.01
          ],
          [
            -0.021,
            0.007
          ],
          [
            -0.022,
            0.003
          ],
          [
            -0.022,
            0.0
          ],
          [
            -0.022,
            -0.003
          ],
          [
            -0.021,
            -0.007
          ],
          [
            -0.02,
            -0.01
          ],
          [
            -0.018,
            -0.013
          ],
          [
            -0.016,
            -0.016
          ],
          [
            -0.013,
            -0.018
          ],
          [
            -0.01,
            -0.02
          ],
          [
            -0.007,
            -0.021
          ],
          [
            -0.003,
            -0.022
          ],
          [
            0.0,
            -0.022
          ],
          [
            0.003,
            -0.022
          ],
          [
            0.007,
            -0.021
          ],
          [
            0.01,
            -0.02
          ],
          [
            0.013,
            -0.018
          ],
          [
            0.016,
            -0.016
          ],
          [
            0.018,
            -0.013
          ],
          [
            0.02,
            -0.01
          ],
          [
            0.021,
            -0.007
          ],
          [
            0.022,
            -0.003
          ]
        ]
      },
      "path": "outputs/dc_motor_torque.csv"
    },
    {
      "type": "mechanical_trace",
      "id": "dc_motor_mechanical",
      "path": "outputs/dc_motor_mechanical.csv",
      "rotors": [
        "dc_rotor"
      ]
    }
  ],
  "mechanical": {
    "rotors": [
      {
        "name": "dc_rotor",
        "inertia": 0.001,
        "damping": 0.0,
        "load_torque": 0.08,
        "initial_angle_deg": -25.0,
        "initial_speed_rpm": 0.0,
        "torque_probe": "dc_torque"
      }
    ]
  },
  "timeline": [
    {
      "t": 0.0
    },
    {
      "t": 0.001
    },
    {
      "t": 0.003
    },
    {
      "t": 0.004
    },
    {
      "t": 0.006
    },
    {
      "t": 0.007
    },
    {
      "t": 0.008
    },
    {
      "t": 0.01
    },
    {
      "t": 0.011
    },
    {
      "t": 0.013
    },
    {
      "t": 0.014
    },
    {
      "t": 0.015
    },
    {
      "t": 0.017
    },
    {
      "t": 0.018
    },
    {
      "t": 0.019
    },
    {
      "t": 0.021
    },
    {
      "t": 0.022
    },
    {
      "t": 0.024
    },
    {
      "t": 0.025
    },
    {
      "t": 0.026
    },
    {
      "t": 0.028
    },
    {
      "t": 0.029
    },
    {
      "t": 0.031
    },
    {
      "t": 0.032
    }
  ]
}

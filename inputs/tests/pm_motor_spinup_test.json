{
  "version": "0.2",
  "units": "SI",
  "domain": {
    "Lx": 0.14,
    "Ly": 0.14,
    "nx": 65,
    "ny": 65
  },
  "boundary": {
    "type": "neumann"
  },
  "materials": [
    {
      "name": "air",
      "mu_r": 1.0
    },
    {
      "name": "stator_steel",
      "mu_r": 400.0
    },
    {
      "name": "rotor_steel",
      "mu_r": 800.0
    },
    {
      "name": "pm_magnet",
      "mu_r": 1.05
    }
  ],
  "regions": [
    {
      "type": "uniform",
      "material": "air"
    },
    {
      "type": "polygon",
      "material": "stator_steel",
      "vertices": [
        [
          0.055,
          0.0
        ],
        [
          0.052,
          0.019
        ],
        [
          0.042,
          0.035
        ],
        [
          0.028,
          0.048
        ],
        [
          0.01,
          0.054
        ],
        [
          -0.01,
          0.054
        ],
        [
          -0.027,
          0.048
        ],
        [
          -0.042,
          0.035
        ],
        [
          -0.052,
          0.019
        ],
        [
          -0.055,
          0.0
        ],
        [
          -0.052,
          -0.019
        ],
        [
          -0.042,
          -0.035
        ],
        [
          -0.028,
          -0.048
        ],
        [
          -0.01,
          -0.054
        ],
        [
          0.01,
          -0.054
        ],
        [
          0.027,
          -0.048
        ],
        [
          0.042,
          -0.035
        ],
        [
          0.052,
          -0.019
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.04,
          -0.006
        ],
        [
          0.049,
          -0.008
        ],
        [
          0.049,
          0.008
        ],
        [
          0.04,
          0.006
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.025,
          0.031
        ],
        [
          0.031,
          0.039
        ],
        [
          0.018,
          0.047
        ],
        [
          0.014,
          0.037
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          -0.014,
          0.037
        ],
        [
          -0.018,
          0.047
        ],
        [
          -0.031,
          0.039
        ],
        [
          -0.025,
          0.031
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          -0.04,
          0.006
        ],
        [
          -0.049,
          0.008
        ],
        [
          -0.049,
          -0.008
        ],
        [
          -0.04,
          -0.006
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          -0.025,
          -0.031
        ],
        [
          -0.031,
          -0.039
        ],
        [
          -0.018,
          -0.047
        ],
        [
          -0.014,
          -0.037
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.014,
          -0.037
        ],
        [
          0.018,
          -0.047
        ],
        [
          0.031,
          -0.039
        ],
        [
          0.025,
          -0.031
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [
          0.04,
          0.0
        ],
        [
          0.035,
          0.02
        ],
        [
          0.02,
          0.035
        ],
        [
          0.0,
          0.04
        ],
        [
          -0.02,
          0.035
        ],
        [
          -0.035,
          0.02
        ],
        [
          -0.04,
          0.0
        ],
        [
          -0.035,
          -0.02
        ],
        [
          -0.02,
          -0.035
        ],
        [
          0.0,
          -0.04
        ],
        [
          0.02,
          -0.035
        ],
        [
          0.035,
          -0.02
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "rotor_steel",
      "vertices": [
        [
          0.022,
          0.0
        ],
        [
          0.018,
          0.013
        ],
        [
          0.007,
          0.021
        ],
        [
          -0.007,
          0.021
        ],
        [
          -0.018,
          0.013
        ],
        [
          -0.022,
          0.0
        ],
        [
          -0.018,
          -0.013
        ],
        [
          -0.007,
          -0.021
        ],
        [
          0.007,
          -0.021
        ],
        [
          0.018,
          -0.013
        ]
      ]
    },
    {
      "type": "polygon",
      "material": "pm_magnet",
      "vertices": [
        [
          -0.019,
          -0.012
        ],
        [
          0.019,
          -0.012
        ],
        [
          0.019,
          0.012
        ],
        [
          -0.019,
          0.012
        ]
      ]
    }
  ],
  "magnet_regions": [
    {
      "type": "polygon",
      "vertices": [
        [
          -0.019,
          -0.012
        ],
        [
          0.019,
          -0.012
        ],
        [
          0.019,
          0.012
        ],
        [
          -0.019,
          0.012
        ]
      ],
      "magnetization": [
        100000.0,
        0.0
      ]
    }
  ],
  "rotors": [
    {
      "name": "pm_rotor",
      "pivot": [
        0.0,
        0.0
      ],
      "polygons": [
        8
      ],
      "magnets": [
        0
      ]
    }
  ],
  "sources": [
    {
      "type": "current_region",
      "id": "A_pos",
      "label": "Phase A+",
      "phase": "A",
      "orientation": 1.0,
      "vertices": [
        [
          0.04,
          -0.006
        ],
        [
          0.049,
          -0.008
        ],
        [
          0.049,
          0.008
        ],
        [
          0.04,
          0.006
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    },
    {
      "type": "current_region",
      "id": "B_neg",
      "label": "Phase B-",
      "phase": "B",
      "orientation": -1.0,
      "vertices": [
        [
          0.025,
          0.031
        ],
        [
          0.031,
          0.039
        ],
        [
          0.018,
          0.047
        ],
        [
          0.014,
          0.037
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    },
    {
      "type": "current_region",
      "id": "C_pos",
      "label": "Phase C+",
      "phase": "C",
      "orientation": 1.0,
      "vertices": [
        [
          -0.014,
          0.037
        ],
        [
          -0.018,
          0.047
        ],
        [
          -0.031,
          0.039
        ],
        [
          -0.025,
          0.031
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    },
    {
      "type": "current_region",
      "id": "A_neg",
      "label": "Phase A-",
      "phase": "A",
      "orientation": -1.0,
      "vertices": [
        [
          -0.04,
          0.006
        ],
        [
          -0.049,
          0.008
        ],
        [
          -0.049,
          -0.008
        ],
        [
          -0.04,
          -0.006
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    },
    {
      "type": "current_region",
      "id": "B_pos",
      "label": "Phase B+",
      "phase": "B",
      "orientation": 1.0,
      "vertices": [
        [
          -0.025,
          -0.031
        ],
        [
          -0.031,
          -0.039
        ],
        [
          -0.018,
          -0.047
        ],
        [
          -0.014,
          -0.037
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    },
    {
      "type": "current_region",
      "id": "C_neg",
      "label": "Phase C-",
      "phase": "C",
      "orientation": -1.0,
      "vertices": [
        [
          0.014,
          -0.037
        ],
        [
          0.018,
          -0.047
        ],
        [
          0.031,
          -0.039
        ],
        [
          0.025,
          -0.031
        ]
      ],
      "I": 0.0,
      "turns": 60.0,
      "fill_fraction": 0.55
    }
  ],
  "circuits": [
    {
      "id": "stator_three_phase",
      "nodes": [
        "neutral",
        "phase_a",
        "phase_b",
        "phase_c"
      ],
      "elements": [
        {
          "type": "resistor",
          "id": "R_a",
          "nodes": [
            "phase_a",
            "neutral"
          ],
          "resistance": 0.4
        },
        {
          "type": "inductor",
          "id": "L_a",
          "nodes": [
            "phase_a",
            "neutral"
          ],
          "inductance": 0.012
        },
        {
          "type": "voltage_source",
          "id": "Va",
          "nodes": [
            "phase_a",
            "neutral"
          ],
          "value": 0.0
        },
        {
          "type": "coil_link",
          "id": "coil_a_pos",
          "inductor": "L_a",
          "region": "A_pos",
          "turns": 60.0
        },
        {
          "type": "coil_link",
          "id": "coil_a_neg",
          "inductor": "L_a",
          "region": "A_neg",
          "turns": 60.0
        },
        {
          "type": "resistor",
          "id": "R_b",
          "nodes": [
            "phase_b",
            "neutral"
          ],
          "resistance": 0.4
        },
        {
          "type": "inductor",
          "id": "L_b",
          "nodes": [
            "phase_b",
            "neutral"
          ],
          "inductance": 0.012
        },
        {
          "type": "voltage_source",
          "id": "Vb",
          "nodes": [
            "phase_b",
            "neutral"
          ],
          "value": 0.0
        },
        {
          "type": "coil_link",
          "id": "coil_b_pos",
          "inductor": "L_b",
          "region": "B_pos",
          "turns": 60.0
        },
        {
          "type": "coil_link",
          "id": "coil_b_neg",
          "inductor": "L_b",
          "region": "B_neg",
          "turns": 60.0
        },
        {
          "type": "resistor",
          "id": "R_c",
          "nodes": [
            "phase_c",
            "neutral"
          ],
          "resistance": 0.4
        },
        {
          "type": "inductor",
          "id": "L_c",
          "nodes": [
            "phase_c",
            "neutral"
          ],
          "inductance": 0.012
        },
        {
          "type": "voltage_source",
          "id": "Vc",
          "nodes": [
            "phase_c",
            "neutral"
          ],
          "value": 0.0
        },
        {
          "type": "coil_link",
          "id": "coil_c_pos",
          "inductor": "L_c",
          "region": "C_pos",
          "turns": 60.0
        },
        {
          "type": "coil_link",
          "id": "coil_c_neg",
          "inductor": "L_c",
          "region": "C_neg",
          "turns": 60.0
        }
      ]
    }
  ],
  "mechanical": {
    "rotors": [
      {
        "name": "pm_rotor",
        "inertia": 0.001,
        "damping": 0.0,
        "load_torque": 0.12,
        "initial_angle_deg": -30.0,
        "initial_speed_rpm": 0.0,
        "torque_probe": "pm_motor_spinup_torque"
      }
    ]
  },
  "timeline": [
    {
      "t": 0.0,
      "phase_currents": {
        "A": 0.0,
        "B": -30.311,
        "C": 30.311
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 0.0
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": -17.321
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": 17.321
        }
      ],
      "rotor_angles": {
        "pm_rotor": -30.0
      }
    },
    {
      "t": 0.002,
      "phase_currents": {
        "A": 20.572,
        "B": -34.808,
        "C": 14.236
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 11.756
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": -19.89
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": 8.135
        }
      ],
      "rotor_angles": {
        "pm_rotor": 6.0
      }
    },
    {
      "t": 0.003,
      "phase_currents": {
        "A": 33.287,
        "B": -26.01,
        "C": -7.277
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 19.021
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": -14.863
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": -4.158
        }
      ],
      "rotor_angles": {
        "pm_rotor": 42.0
      }
    },
    {
      "t": 0.005,
      "phase_currents": {
        "A": 33.287,
        "B": -7.277,
        "C": -26.01
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 19.021
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": -4.158
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": -14.863
        }
      ],
      "rotor_angles": {
        "pm_rotor": 78.0
      }
    },
    {
      "t": 0.007,
      "phase_currents": {
        "A": 20.572,
        "B": 14.236,
        "C": -34.808
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 11.756
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": 8.135
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": -19.89
        }
      ],
      "rotor_angles": {
        "pm_rotor": 114.0
      }
    },
    {
      "t": 0.008,
      "phase_currents": {
        "A": 0.0,
        "B": 30.311,
        "C": -30.311
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": 0.0
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": 17.321
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": -17.321
        }
      ],
      "rotor_angles": {
        "pm_rotor": 150.0
      }
    },
    {
      "t": 0.01,
      "phase_currents": {
        "A": -20.572,
        "B": 34.808,
        "C": -14.236
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": -11.756
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": 19.89
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": -8.135
        }
      ],
      "rotor_angles": {
        "pm_rotor": 186.0
      }
    },
    {
      "t": 0.012,
      "phase_currents": {
        "A": -33.287,
        "B": 26.01,
        "C": 7.277
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": -19.021
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": 14.863
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": 4.158
        }
      ],
      "rotor_angles": {
        "pm_rotor": 222.0
      }
    },
    {
      "t": 0.013,
      "phase_currents": {
        "A": -33.287,
        "B": 7.277,
        "C": 26.01
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": -19.021
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": 4.158
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": 14.863
        }
      ],
      "rotor_angles": {
        "pm_rotor": 258.0
      }
    },
    {
      "t": 0.015,
      "phase_currents": {
        "A": -20.572,
        "B": -14.236,
        "C": 34.808
      },
      "voltage_sources": [
        {
          "circuit": "stator_three_phase",
          "source": "Va",
          "value": -11.756
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vb",
          "value": -8.135
        },
        {
          "circuit": "stator_three_phase",
          "source": "Vc",
          "value": 19.89
        }
      ],
      "rotor_angles": {
        "pm_rotor": 294.0
      }
    }
  ],
  "outputs": [
    {
      "type": "vtk_field_series",
      "id": "pm_motor_spinup_series",
      "dir": "outputs",
      "basename": "pm_motor_spinup_frame",
      "quantities": [
        "B",
        "H"
      ]
    },
    {
      "type": "polyline_outlines",
      "id": "pm_motor_spinup_outlines",
      "path": "outputs/pm_motor_spinup_outlines.vtp"
    },
    {
      "type": "circuit_trace",
      "id": "pm_motor_spinup_currents",
      "path": "outputs/pm_motor_spinup_currents.csv",
      "circuits": [
        "stator_three_phase"
      ]
    },
    {
      "type": "bore_avg_B",
      "id": "pm_motor_spinup_bore",
      "path": "outputs/pm_motor_spinup_bore.csv",
      "vertices": [
        [
          0.024,
          0.0
        ],
        [
          0.023,
          0.008
        ],
        [
          0.018,
          0.015
        ],
        [
          0.012,
          0.021
        ],
        [
          0.004,
          0.024
        ],
        [
          -0.004,
          0.024
        ],
        [
          -0.012,
          0.021
        ],
        [
          -0.018,
          0.015
        ],
        [
          -0.023,
          0.008
        ],
        [
          -0.024,
          0.0
        ],
        [
          -0.023,
          -0.008
        ],
        [
          -0.018,
          -0.015
        ],
        [
          -0.012,
          -0.021
        ],
        [
          -0.004,
          -0.024
        ],
        [
          0.004,
          -0.024
        ],
        [
          0.012,
          -0.021
        ],
        [
          0.018,
          -0.015
        ],
        [
          0.023,
          -0.008
        ]
      ]
    },
    {
      "type": "probe",
      "id": "pm_motor_spinup_torque",
      "probe_type": "torque",
      "method": "stress_tensor",
      "loop": {
        "type": "polygon",
        "vertices": [
          [
            0.026,
            0.0
          ],
          [
            0.025,
            0.007
          ],
          [
            0.023,
            0.013
          ],
          [
            0.018,
            0.018
          ],
          [
            0.013,
            0.023
          ],
          [
            0.007,
            0.025
          ],
          [
            0.0,
            0.026
          ],
          [
            -0.007,
            0.025
          ],
          [
            -0.013,
            0.023
          ],
          [
            -0.018,
            0.018
          ],
          [
            -0.023,
            0.013
          ],
          [
            -0.025,
            0.007
          ],
          [
            -0.026,
            0.0
          ],
          [
            -0.025,
            -0.007
          ],
          [
            -0.023,
            -0.013
          ],
          [
            -0.018,
            -0.018
          ],
          [
            -0.013,
            -0.023
          ],
          [
            -0.007,
            -0.025
          ],
          [
            0.0,
            -0.026
          ],
          [
            0.007,
            -0.025
          ],
          [
            0.013,
            -0.023
          ],
          [
            0.018,
            -0.018
          ],
          [
            0.023,
            -0.013
          ],
          [
            0.025,
            -0.007
          ]
        ]
      },
      "path": "outputs/pm_motor_spinup_torque.csv"
    },
    {
      "type": "back_emf_probe",
      "id": "pm_motor_spinup_phase_a_emf",
      "component": "Bmag",
      "region": {
        "type": "polygon",
        "vertices": [
          [
            0.04,
            -0.006
          ],
          [
            0.049,
            -0.008
          ],
          [
            0.049,
            0.008
          ],
          [
            0.04,
            0.006
          ]
        ]
      },
      "path": "outputs/pm_motor_spinup_phase_a_emf.csv"
    },
    {
      "type": "back_emf_probe",
      "id": "pm_motor_spinup_phase_b_emf",
      "component": "Bmag",
      "region": {
        "type": "polygon",
        "vertices": [
          [
            -0.025,
            -0.031
          ],
          [
            -0.031,
            -0.039
          ],
          [
            -0.018,
            -0.047
          ],
          [
            -0.014,
            -0.037
          ]
        ]
      },
      "path": "outputs/pm_motor_spinup_phase_b_emf.csv"
    },
    {
      "type": "back_emf_probe",
      "id": "pm_motor_spinup_phase_c_emf",
      "component": "Bmag",
      "region": {
        "type": "polygon",
        "vertices": [
          [
            -0.014,
            0.037
          ],
          [
            -0.018,
            0.047
          ],
          [
            -0.031,
            0.039
          ],
          [
            -0.025,
            0.031
          ]
        ]
      },
      "path": "outputs/pm_motor_spinup_phase_c_emf.csv"
    },
    {
      "type": "mechanical_trace",
      "id": "pm_motor_spinup_mechanical",
      "path": "outputs/pm_motor_spinup_mechanical.csv",
      "rotors": [
        "pm_rotor"
      ]
    }
  ]
}

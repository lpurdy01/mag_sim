{
  "version": "0.2",
  "units": "SI",
  "domain": {
    "Lx": 0.12,
    "Ly": 0.12,
    "nx": 61,
    "ny": 61
  },
  "materials": [
    {"name": "air", "mu_r": 1.0},
    {"name": "rotor_steel", "mu_r": 12.0},
    {"name": "stator_steel", "mu_r": 80.0}
  ],
  "regions": [
    {"type": "uniform", "material": "air"},
    {
      "type": "polygon",
      "material": "stator_steel",
      "vertices": [
        [0.055, 0.0],
        [0.05313, 0.01424],
        [0.04763, 0.0275],
        [0.03889, 0.03889],
        [0.0275, 0.04763],
        [0.01424, 0.05313],
        [0.0, 0.055],
        [-0.01424, 0.05313],
        [-0.0275, 0.04763],
        [-0.03889, 0.03889],
        [-0.04763, 0.0275],
        [-0.05313, 0.01424],
        [-0.055, 0.0],
        [-0.05313, -0.01424],
        [-0.04763, -0.0275],
        [-0.03889, -0.03889],
        [-0.0275, -0.04763],
        [-0.01424, -0.05313],
        [0.0, -0.055],
        [0.01424, -0.05313],
        [0.0275, -0.04763],
        [0.03889, -0.03889],
        [0.04763, -0.0275],
        [0.05313, -0.01424]
      ]
    },
    {
      "type": "polygon",
      "material": "air",
      "vertices": [
        [0.032, 0.0],
        [0.02956, 0.01225],
        [0.02263, 0.02263],
        [0.01225, 0.02956],
        [0.0, 0.032],
        [-0.01225, 0.02956],
        [-0.02263, 0.02263],
        [-0.02956, 0.01225],
        [-0.032, 0.0],
        [-0.02956, -0.01225],
        [-0.02263, -0.02263],
        [-0.01225, -0.02956],
        [0.0, -0.032],
        [0.01225, -0.02956],
        [0.02263, -0.02263],
        [0.02956, -0.01225]
      ]
    },
    {
      "type": "polygon",
      "material": "rotor_steel",
      "vertices": [
        [0.004, -0.022],
        [0.022, -0.03],
        [0.036, -0.02],
        [0.04, 0.0],
        [0.036, 0.02],
        [0.022, 0.03],
        [0.004, 0.022],
        [0.01, 0.0]
      ]
    },
    {
      "type": "polygon",
      "material": "rotor_steel",
      "vertices": [
        [-0.004, -0.022],
        [-0.022, -0.03],
        [-0.036, -0.02],
        [-0.04, 0.0],
        [-0.036, 0.02],
        [-0.022, 0.03],
        [-0.004, 0.022],
        [-0.01, 0.0]
      ]
    }
  ],
  "sources": [
    {"type": "wire", "x": -0.04, "y": 0.0, "radius": 0.003, "I": 200.0},
    {"type": "wire", "x": 0.04, "y": 0.0, "radius": 0.003, "I": -200.0}
  ],
  "magnet_regions": [
    {
      "type": "rect",
      "x_range": [0.005, 0.018],
      "y_range": [-0.012, 0.012],
      "magnetization": [350000.0, 0.0]
    },
    {
      "type": "rect",
      "x_range": [-0.018, -0.005],
      "y_range": [-0.012, 0.012],
      "magnetization": [-350000.0, 0.0]
    }
  ],
  "rotors": [
    {
      "name": "rotor",
      "pivot": [0.0, 0.0],
      "polygon_indices": [2, 3],
      "magnet_indices": [0, 1]
    }
  ],
  "outputs": [
    {
      "type": "field_map",
      "id": "ripple_field",
      "quantity": "B",
      "format": "vti",
      "path": "outputs/rotor_ripple_field.vti"
    },
    {
      "type": "field_map",
      "id": "ripple_field_csv",
      "quantity": "B",
      "format": "csv",
      "path": "outputs/rotor_ripple_field.csv"
    },
    {
      "type": "line_probe",
      "id": "midline",
      "axis": "y",
      "value": 0.0,
      "quantity": "Bmag",
      "path": "outputs/rotor_ripple_midline.csv"
    },
    {
      "type": "probe",
      "id": "torque_loop",
      "probe_type": "torque",
      "method": "stress_tensor",
      "loop": {
        "type": "polygon",
        "vertices": [
          [-0.0165, -0.0165],
          [0.0165, -0.0165],
          [0.0165, 0.0165],
          [-0.0165, 0.0165]
        ]
      },
      "path": "outputs/rotor_ripple_torque.csv"
    },
    {
      "type": "back_emf_probe",
      "id": "coil_emf",
      "component": "Bmag",
      "region": {
        "type": "rect",
        "x_range": [-0.018, 0.018],
        "y_range": [-0.018, 0.018]
      },
      "frames": [0, 1, 2, 3],
      "path": "outputs/rotor_ripple_emf.csv"
    }
  ],
  "timeline": [
    {"t": 0.0, "rotor_angles": {"rotor": 0.0}},
    {"t": 0.001, "rotor_angles": {"rotor": 60.0}},
    {"t": 0.002, "rotor_angles": {"rotor": 120.0}},
    {"t": 0.003, "rotor_angles": {"rotor": 180.0}}
  ]
}
